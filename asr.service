[Unit]
Description=ASR Pipeline Service - Local Speech Recognition
Documentation=https://github.com/your-repo/asr-pipeline
After=network.target sound.service
Wants=network.target

[Service]
Type=simple
User=root
Group=root

# Working directory
WorkingDirectory=/home/singsong/Desktop/flight_instructor/asr-pipeline
ExecStart=/home/singsong/Desktop/flight_instructor/asr-pipeline/.venv/bin/python src/asr_service.py

# Environment variables
Environment=PYTHONPATH=/home/singsong/Desktop/flight_instructor/asr-pipeline
Environment=CUDA_VISIBLE_DEVICES=0
Environment=PYTHONUNBUFFERED=1

# Logging
StandardOutput=append:/home/singsong/Desktop/flight_instructor/asr-pipeline/logs/asr.out
StandardError=append:/home/singsong/Desktop/flight_instructor/asr-pipeline/logs/asr.err

# Restart policy
Restart=always
RestartSec=10
StartLimitInterval=60
StartLimitBurst=3

[Install]
WantedBy=multi-user.target
